@using Zbang.Cloudents.Mvc4WebRole.Views.Shared.Resources
<ul layout="row" layout-padding layout-wrap layout-align="start stretch" class="list-unstyled quizzes-list flashcards-list">
    <li flex-gt-lg="10" flex-lg="20" flex-md="25" flex-sm="33" hide-xs hide-sm class="add-button i-q-wrapper">
        @*TODO: use directive user-not-register-click - its not working somehow *@
        <a class="content" ui-sref="flashcardCreate({boxtype: f.params.boxtype, universityType:f.params.universityType, boxId: f.params.boxId, boxName:f.params.boxName})" ga-track-event="['box-flashcards', 'addFlashcard']">
            <div class="quizCreate">
                <md-icon md-svg-icon="t:add"></md-icon>
                <div class="text">
                    Create a flashcard
                </div>
            </div>
        </a>
    </li>

    <li flex flex-gt-lg="10" flex-lg="20" flex-md="25" flex-sm="33" flex-xs="50"
        class="i-q-wrapper flashcards" ng-repeat="e in f.flashcards track by e.id">
        <div ng-include="'flashcard-template.html'"></div>
        <md-menu ng-if="::b.canDelete(e.ownerId)" class="quiz-menu">
            <md-button aria-label="open menu" class="md-icon-button delete" ng-click="app.openMenu($mdOpenMenu, $event)" ga-track-event="['box-flashcard', 'delete']">
                <md-icon md-svg-icon="t:ThreeDots" class="dots-3 quiz-dots"></md-icon>
            </md-button>
            <md-menu-content width="1">
                <md-menu-item ng-if="::f.canEdit(e)">
                    <md-button ui-sref="flashcardCreate({boxtype: f.params.boxtype, universityType:f.params.universityType, boxId: f.params.boxId, boxName:f.params.boxName, id:e.id})" ga-track-event="['box-flashcard', 'didEdit']">
                        Edit
                    </md-button>
                </md-menu-item>
                <md-menu-item>
                    <md-button ng-click="f.deleteFlashcard($event,e)" ga-track-event="['box-flashcard', 'didDelete']">
                        @GeneralResources.Delete
                    </md-button>
                </md-menu-item>
            </md-menu-content>
        </md-menu>
    </li>
</ul>
<script type="text/ng-template" id="flashcard-template.html">
    <a class="quiz quiz-template" ng-href="{{::e.url}}">
        <div class="base">
            <div class="quiz-ratio">
                <div class="content">
                    <div ng-if="::e.publish" class="top background" d-color="{{::e.name.length}}">
                        <md-icon md-svg-icon="b:flashcard-icon"></md-icon>
                    </div>
                    <div ng-if="::!e.publish" class="top draft-wpr">
                        <span class="draft">@IndexResources.Draft</span>
                    </div>
                    <div class="bottom">
                        <h2 class="name ellipsis" ng-bind="::e.name"></h2>
                    </div>
                </div>


            </div>
            <div class="stats" @*ng-hide="::e.numOfViews === underfined"*@>
                <div class="views">
                    {{::e.numOfViews}} <md-icon md-svg-icon="b:eye"></md-icon>
                </div>
                <div class="likes">
                    {{::e.likes}} <md-icon md-svg-icon="b:like"></md-icon>
                </div>
            </div>
        </div>
        @*<div class="extra-details">
            <h5 ng-bind-html="::e.name"></h5>
            <span ng-bind-html="::e.content"></span>
        </div>*@
    </a>
</script>