@using Zbang.Cloudents.Mvc4WebRole.Views.Item.Resources
@using Zbang.Cloudents.Mvc4WebRole.Views.Shared.Resources

@{ ViewBag.Description = ViewBag.Description ?? string.Empty;}
<div id="item" class="page itemPage" ng-controller="ItemCtrl">
    @*<h1>@ViewBag.Description</h1>*@


    <div class="topBar">
        @* class itemTop has gone*@
        @*<div class="moreFilesThumb lFloat" data-bind="text: extension, css: extensionColor"></div>*@
        <div class="leftPart">
            <a class="backWpr elps lFloat" href="{{item.boxUrl}}">
                <div>@SharedResources.Backto</div>
                <h2 class="semiFont elps">{{item.boxName}}</h2>
                <svg class="svg-back"><use xlink:href="~/Images/Defs.svg#back" /></svg>
            </a>
        </div>
        <div class="mainPart">
            <ul class="middleActionList">
                <li class="middleActionItem">
                    <a class="actionLink" href="{{item.downloadUrl}}" target="_blank">
                        <svg class="svg-download"><use xlink:href="~/Images/Defs.svg#download" /></svg>
                        <div>@ItemsResources.Download</div>
                    </a>
                </li>

                <li class="middleActionItem">
                    <a class="actionLink" href="{{item.downloadUrl}}" target="_blank">
                        <svg class="svg-print"><use xlink:href="~/Images/Defs.svg#print" /></svg>
                        <span>@ItemsResources.Print</span>
                    </a>

                    @*<button type="button" class="itemPrint iconTop" id="item_P" data-link="@Url.Action("Print", "Item")">@ItemsResources.Print</button>*@
                    @*<input class="checkbox" type="checkbox" id="itemPrint" data-ddcbox="itemPrint" />
                    <label for="itemPrint" class="" data-link="@Url.Action("Print", "Item")">
                        <svg class="svg-print"><use xlink:href="~/Images/Defs.svg#print" /></svg>
                        <span>@ItemsResources.Print</span>
                    </label>
                    <div class="printDD dropDown" data-dropdown="itemPrint">
                        <div class="arrow upArrow"></div>
                        <h4><button type="button" id="item_P" data-link="@Url.Action("Print", "Item")" class="iconTxt">שלח למדפסת שלך</button></h4>
                        <div class="printTxt">או הדפס באמצעות:</div>
                        <div class="printTxt2">
                            מערכת
                            <a href="http://www.otakim.co.il">עותקים</a>
                            מאפשרת לנהל, לשתף ולהזמין חומרים מודפסים בכל סוגי הגימור,
                            <br />
                            איכותי מתקדם ובמחיר של 8 אג' לעמוד.
                        </div>
                        <button type="button" id="Otakim_P" class="btn3">שלח להדפסה בעותקים</button>
                    </div>*@
                </li>


                <li class="middleActionItem">
                    <button type="button" ng-click="fullScreen()" class="">
                        <svg class="svg-fullscreen"><use xlink:href="~/Images/Defs.svg#fullscreen" /></svg>
                        @*<svg class="svg-smallscreen"><use xlink:href="~/Images/Defs.svg#smallscreen" /></svg>*@
                        <div>@ItemsResources.FullScreen</div>
                        <svg class="svg-fullscreen"><use xlink:href="~/Images/Defs.svg#fullscreen" /></svg>
                    </button>
                </li>


                <li class="middleActionItem">
                    <input class="checkbox" type="checkbox" id="itemShare" data-ddcbox="itemShare" />
                    <label for="itemShare" class="">
                        <span>@SharedResources.Share</span>
                        <svg class="svg-share"><use xlink:href="~/Images/Defs.svg#share" /></svg>
                    </label>
                    <div class="dropDown shareDD" data-dropdown="itemShare">
                        <label class="closeItem rFloat" for="itemShare"></label>
                        <div class="arrow shareArrow"></div>
                        <h4 class="semiFont">@SharedResources.ShareItem</h4>
                        <div class="shareTxt">@SharedResources.ShareUsing</div>
                        <ul class="shareList">
                            <li class="shareItem"><button type="button" id="item_FS" class="fbShare">@SharedResources.Facebook</button></li>

                            @if (User.Identity.IsAuthenticated)
                            {
                                <li class="shareItem"><button type="button" id="item_msg" class="emailShare">@SharedResources.Email</button></li>
                            }
                        </ul>
                        <div class="shareTxt">@SharedResources.OrCopyLink</div>
                        <input type="text" id="item_CL" class="linkShare" readonly="readonly" data-bind="value: copyLink" />
                    </div>
                </li>
            </ul>
        </div>
    </div>

    <div class="secondBar">
        <div class="leftPart">
            <span class="lFloat views" tooltip="@SharedResources.Views">
                <svg class="svg-eye"><use xlink:href="~/Images/Defs.svg#eye" /></svg>
                <span>{{item.numberOfViews}}</span>
            </span>
            <span ng-show="item.numberOfDownloads !== null" class="downloads" tooltip="@SharedResources.Downloads">
                <svg class="svg-download"><use xlink:href="~/Images/Defs.svg#download" /></svg>
                <span>{{item.numberOfDownloads}}</span>
            </span>
            <div class="rateWpr rFloat">
                <svg class="svg-star"><use xlink:href="~/Images/Defs.svg#star" /></svg>
                <svg class="svg-star"><use xlink:href="~/Images/Defs.svg#star" /></svg>
                <svg class="svg-star"><use xlink:href="~/Images/Defs.svg#star" /></svg>
                <svg class="svg-star"><use xlink:href="~/Images/Defs.svg#star" /></svg>
                <svg class="svg-star"><use xlink:href="~/Images/Defs.svg#star" /></svg>
            </div>
        </div>

        <div class="mainPart">
            <a href="{{item.navigation.next}}" class="rFloat navBtn"><svg class="svg-next"><use xlink:href="~/Images/Defs.svg#right" /></svg></a>
            <a href="{{item.navigation.previous}}" class="lFloat navBtn"><svg class="svg-prev"><use xlink:href="~/Images/Defs.svg#right" /></svg></a>
            <div class="itemNameWpr">
                <h2 class="item-name elps lFloat">
                    <span tooltip="{{item.name}}">{{item.name}}</span>
                    <button class="itemRenameBtn" tooltip="@SharedResources.Rename" type="button">
                        <svg class="svg-pencil"><use xlink:href="~/Images/Defs.svg#pencil" /></svg>
                    </button>
                </h2>
                <div class="itemOwner" user-tooltip-popup="{{item.ownerId}}">{{item.owner}}</div>
            </div>
        </div>
    </div>

    <div class="leftPanel lFloat">
        @*<span class="lFloat" data-bind="text: update"></span>*@
        <button type="button" class="itemFlag" data-bind="click: flagItem, visible: flagAllow()">
            <svg class="svg-flag"><use xlink:href="~/Images/Defs.svg#flag" /></svg>
            <span>@ItemsResources.Flag</span>
        </button>

        <section class="itemComments">
            {{item.comments.length}}
            <header>@SharedResources.AddComment</header>
            <form name="addAnnotation" class="clearfix itemCommentsForm" ng-submit="create(addAnnotation.$valid)" novalidate>
                <div class="textareaWpr">
                    <textarea ng-model="formData.Comment" @*text-direction msd-elastic*@ class="commentsTextarea" required></textarea>
                    <div class="rFloat">
                        <button type="submit" class="post rFloat">@SharedResources.Post</button>
                        <button type="button" class="cancel rFloat">@DialogResources.Cancel</button>
                    </div>
                </div>
            </form>
            <ul class="itemCommentsList">
                <li>
                    <ul>
                        <li>
                            <span>Posted by</span>
                            <span class="user-name">{User-name}</span>
                            <time>27th August</time>
                            <p>{the post which the poter posted goes right here!!}</p>
                        </li>
                        <li>
                            <span>Posted by</span>
                            <span class="user-name">{User-name}</span>
                            <time>27th August</time>
                            <p>{the post which the poter posted goes right here!!}</p>
                        </li>
                        <li>
                            <span>Posted by</span>
                            <span class="user-name">{User-name}</span>
                            <time>27th August</time>
                            <p>{the post which the poter posted goes right here!!}</p>
                        </li>
                    </ul>
                    <button class="addComBtn" type="button">@SharedResources.AddComment</button>
                    <button type="button" class="closeDialog" data-closediag="itemRename"></button>
                    <form class="clearfix itemCommentsForm">
                        <div class="textareaWpr">
                            <textarea @*text-direction msd-elastic*@ class="commentsTextarea" required></textarea>
                            <div class="rFloat">
                                <button type="submit" class="post rFloat">@SharedResources.Post</button>
                                <button type="button" class="cancel rFloat">@DialogResources.Cancel</button>
                            </div>
                        </div>
                    </form>
                </li>
                <li>
                    <ul>
                        <li>
                            <span>Posted by</span>
                            <span class="user-name">{User-name}</span>
                            <time>27th August</time>
                            <p>{the post which the poter posted goes right here!!}</p>
                        </li>
                    </ul>
                    <button class="addComBtn" type="button">@SharedResources.AddComment</button>
                    <button type="button" class="closeDialog" data-closediag="itemRename"></button>
                    <form class="clearfix itemCommentsForm">
                        <div class="textareaWpr">
                            <textarea @*text-direction msd-elastic*@ class="commentsTextarea" required></textarea>
                            <div class="rFloat">
                                <button type="submit" class="post rFloat">@SharedResources.Post</button>
                                <button type="button" class="cancel rFloat">@DialogResources.Cancel</button>
                            </div>
                        </div>
                    </form>
                </li>
            </ul>
        </section>
    </div>

    <div class="itemRight">
        <div class="itemPreview scrollEffect" id="itemPreview">
            <div class="previewWrapper" ng-bind-html="preview" scroller loading-method="loadMore()"></div>
        </div>
    </div>
</div>

@{Html.RenderPartial("Rename");}




