/*!
 * Angular Material Design
 * https://github.com/angular/material
 * @license MIT
 * v1.0.0-rc7-master-c33819e
 */
function SelectDirective(e,t,n,r,o,a){function i(o,i){var l=angular.element("<md-select-value><span></span></md-select-value>");if(l.append('<span class="md-select-icon" aria-hidden="true"></span>'),l.addClass("md-select-value"),l[0].hasAttribute("id")||l.attr("id","select_value_label_"+t.nextUid()),o.find("md-content").length||o.append(angular.element("<md-content>").append(o.contents())),i.mdOnOpen&&(o.find("md-content").prepend(angular.element('<div> <md-progress-circular md-mode="{{progressMode}}" ng-hide="$$loadingAsyncDone"></md-progress-circular></div>')),o.find("md-option").attr("ng-show","$$loadingAsyncDone")),i.name){var d=angular.element('<select class="md-visually-hidden">');d.attr({name:"."+i.name,"ng-model":i.ngModel,"aria-hidden":"true",tabindex:"-1"});var c=o.find("md-option");angular.forEach(c,function(e){var t=angular.element("<option>"+e.innerHTML+"</option>");e.hasAttribute("ng-value")?t.attr("ng-value",e.getAttribute("ng-value")):e.hasAttribute("value")&&t.attr("value",e.getAttribute("value")),d.append(t)}),o.parent().append(d)}var s=angular.isDefined(i.multiple)?"multiple":"",u='<div class="md-select-menu-container" aria-hidden="true"><md-select-menu {0}>{1}</md-select-menu></div>';return u=t.supplant(u,[s,o.html()]),o.empty().append(l),o.append(u),i.tabindex=i.tabindex||"0",function(o,i,l,d){function c(){var e=i.attr("aria-label")||i.attr("placeholder");!e&&$&&$.label&&(e=$.label.text()),v=e,r.expect(i,"aria-label",e)}function s(){S&&(D=D||S.find("md-select-menu").controller("mdSelectMenu"),y.setLabelText(D.selectedLabels()))}function u(){if(v){var e=D.selectedLabels({mode:"aria"});i.attr("aria-label",e.length?v+": "+e:v)}}function p(){$&&$.setHasValue(D.selectedLabels().length>0||(i[0].validity||{}).badInput)}function f(){if(S=angular.element(i[0].querySelector(".md-select-menu-container")),x=o,i.attr("md-container-class")){var e=S[0].getAttribute("class")+" "+i.attr("md-container-class");S[0].setAttribute("class",e)}D=S.find("md-select-menu").controller("mdSelectMenu"),D.init(M,l.ngModel),i.on("$destroy",function(){S.remove()})}function m(e){var t=[32,13,38,40];if(-1!=t.indexOf(e.keyCode))e.preventDefault(),h(e);else if(e.keyCode<=90&&e.keyCode>=31){e.preventDefault();var n=D.optNodeForKeyboardSearch(e);if(!n)return;var r=angular.element(n).controller("mdOption");D.isMultiple||D.deselect(Object.keys(D.selected)[0]),D.select(r.hashKey,r.value),D.refreshViewValue()}}function h(){x.isOpen=!0,i.attr("aria-expanded","true"),e.show({scope:x,preserveScope:!0,skipCompile:!0,element:S,target:i[0],selectCtrl:y,preserveElement:!0,hasBackdrop:!0,loadingAsync:l.mdOnOpen?o.$eval(l.mdOnOpen)||!0:!1})["finally"](function(){x.isOpen=!1,i.focus(),i.attr("aria-expanded","false"),M.$setTouched()})}var g,v,b=!0,$=d[0],y=d[1],M=d[2],C=d[3],k=i.find("md-select-value"),E=angular.isDefined(l.readonly);if($){var w=$.isErrorGetter||function(){return M.$invalid&&M.$touched};if($.input)throw new Error("<md-input-container> can only have *one* child <input>, <textarea> or <select> element!");$.input=i,$.label||r.expect(i,"aria-label",i.attr("placeholder")),o.$watch(w,$.setInvalid)}var S,x,D;if(f(),n(i),l.name&&C){var A=i.parent()[0].querySelector('select[name=".'+l.name+'"]');t.nextTick(function(){var e=angular.element(A).controller("ngModel");e&&C.$removeControl(e)})}C&&t.nextTick(function(){C.$setPristine()});var O=M.$render;M.$render=function(){O(),s(),u(),p()},l.$observe("placeholder",M.$render),y.setLabelText=function(e){y.setIsPlaceholder(!e);var t=l.placeholder||($&&$.label?$.label.text():"");e=e||t||"";var n=k.children().eq(0);n.html(e)},y.setIsPlaceholder=function(e){e?(k.addClass("md-select-placeholder"),$&&$.label&&$.label.addClass("md-placeholder")):(k.removeClass("md-select-placeholder"),$&&$.label&&$.label.removeClass("md-placeholder"))},E||(i.on("focus",function(e){$&&$.element.hasClass("md-input-has-value")&&$.setFocused(!0)}),t.nextTick(function(){i.on("blur",function(){b&&(b=!1,M.$setUntouched()),x.isOpen||($&&$.setFocused(!1),p())})})),y.triggerClose=function(){a(l.mdOnClose)(o)},o.$$postDigest(function(){c(),s(),u()}),o.$watch(D.selectedLabels,s);var T;l.$observe("ngMultiple",function(e){T&&T();var t=a(e);T=o.$watch(function(){return t(o)},function(e,t){(void 0!==e||void 0!==t)&&(e?i.attr("multiple","multiple"):i.removeAttr("multiple"),i.attr("aria-multiselectable",e?"true":"false"),S&&(D.setMultiple(e),O=M.$render,M.$render=function(){O(),s(),u(),p()},M.$render()))})}),l.$observe("disabled",function(e){angular.isString(e)&&(e=!0),(void 0===g||g!==e)&&(g=e,e?(i.attr({tabindex:-1,"aria-disabled":"true"}),i.off("click",h),i.off("keydown",m)):(i.attr({tabindex:l.tabindex,"aria-disabled":"false"}),i.on("click",h),i.on("keydown",m)))}),l.disabled||l.ngDisabled||(i.attr({tabindex:l.tabindex,"aria-disabled":"false"}),i.on("click",h),i.on("keydown",m));var R={role:"listbox","aria-expanded":"false","aria-multiselectable":void 0===l.multiple||l.ngMultiple?"false":"true"};i[0].hasAttribute("id")||(R.id="select_"+t.nextUid());var N="select_container_"+t.nextUid();S.attr("id",N),R["aria-owns"]=N,i.attr(R),o.$on("$destroy",function(){e.destroy()["finally"](function(){$&&($.setFocused(!1),$.setHasValue(!1),$.input=null),M.$setTouched()})})}}return{restrict:"E",require:["^?mdInputContainer","mdSelect","ngModel","?^form"],compile:i,controller:function(){}}}function SelectMenuDirective(e,t,n){function r(e,r,o,a){function i(e){(13==e.keyCode||32==e.keyCode)&&l(e)}function l(n){var r=t.getClosest(n.target,"md-option"),o=r&&angular.element(r).data("$mdOptionController");if(r&&o){if(r.hasAttribute("disabled"))return n.stopImmediatePropagation(),!1;var a=d.hashGetter(o.value),i=angular.isDefined(d.selected[a]);e.$apply(function(){d.isMultiple?i?d.deselect(a):d.select(a,o.value):i||(d.deselect(Object.keys(d.selected)[0]),d.select(a,o.value)),d.refreshViewValue()})}}var d=a[0];n(r),r.on("click",l),r.on("keypress",i)}function o(n,r,o){function a(){var e=l.ngModel.$modelValue||l.ngModel.$viewValue||[];if(angular.isArray(e)){var t=Object.keys(l.selected),n=e.map(l.hashGetter),r=t.filter(function(e){return-1===n.indexOf(e)});r.forEach(l.deselect),n.forEach(function(t,n){l.select(t,e[n])})}}function i(){var e=l.ngModel.$viewValue||l.ngModel.$modelValue;Object.keys(l.selected).forEach(l.deselect),l.select(l.hashGetter(e),e)}var l=this;l.isMultiple=angular.isDefined(r.multiple),l.selected={},l.options={},n.$watchCollection(function(){return l.options},function(){l.ngModel.$render()});var d,c;l.setMultiple=function(e){function t(e,t){return angular.isArray(e||t||[])}var r=l.ngModel;c=c||r.$isEmpty,l.isMultiple=e,d&&d(),l.isMultiple?(r.$validators["md-multiple"]=t,r.$render=a,n.$watchCollection(l.modelBinding,function(e){t(e)&&a(e),l.ngModel.$setPristine()}),r.$isEmpty=function(e){return!e||0===e.length}):(delete r.$validators["md-multiple"],r.$render=i)};var s,u,p,f="",m=300;l.optNodeForKeyboardSearch=function(e){s&&clearTimeout(s),s=setTimeout(function(){s=void 0,f="",p=void 0,u=void 0},m),f+=String.fromCharCode(e.keyCode);var t=new RegExp("^"+f,"i");u||(u=o.find("md-option"),p=new Array(u.length),angular.forEach(u,function(e,t){p[t]=e.textContent.trim()}));for(var n=0;n<p.length;++n)if(t.test(p[n]))return u[n]},l.init=function(t,r){if(l.ngModel=t,l.modelBinding=r,t.$options&&t.$options.trackBy){var o={},a=e(t.$options.trackBy);l.hashGetter=function(e,t){return o.$value=e,a(t||n,o)}}else l.hashGetter=function(e){return angular.isObject(e)?"object_"+(e.$$mdSelectId||(e.$$mdSelectId=++selectNextId)):e};l.setMultiple(l.isMultiple)},l.selectedLabels=function(e){e=e||{};var n=e.mode||"html",r=t.nodesToArray(o[0].querySelectorAll("md-option[selected]"));if(r.length){var a;return"html"==n?a=function(e){return e.innerHTML}:"aria"==n&&(a=function(e){return e.hasAttribute("aria-label")?e.getAttribute("aria-label"):e.textContent}),r.map(a).join(", ")}return""},l.select=function(e,t){var n=l.options[e];n&&n.setSelected(!0),l.selected[e]=t},l.deselect=function(e){var t=l.options[e];t&&t.setSelected(!1),delete l.selected[e]},l.addOption=function(e,t){if(angular.isDefined(l.options[e]))throw new Error('Duplicate md-option values are not allowed in a select. Duplicate value "'+t.value+'" found.');l.options[e]=t,angular.isDefined(l.selected[e])&&(l.select(e,t.value),l.refreshViewValue())},l.removeOption=function(e){delete l.options[e]},l.refreshViewValue=function(){var e,t=[];for(var n in l.selected)(e=l.options[n])?t.push(e.value):t.push(l.selected[n]);var r=l.ngModel.$options&&l.ngModel.$options.trackBy,o=l.isMultiple?t:t[0],a=l.ngModel.$modelValue;(r?angular.equals(a,o):a==o)||(l.ngModel.$setViewValue(o),l.ngModel.$render())}}return o.$inject=["$scope","$attrs","$element"],{restrict:"E",require:["mdSelectMenu"],scope:!0,controller:o,link:{pre:r}}}function OptionDirective(e,t){function n(e,t){return e.append(angular.element('<div class="md-text">').append(e.contents())),e.attr("tabindex",t.tabindex||"0"),r}function r(n,r,o,a){function i(e,t,r){if(!c.hashGetter)return void(r||n.$$postDigest(function(){i(e,t,!0)}));var o=c.hashGetter(t,n),a=c.hashGetter(e,n);d.hashKey=a,d.value=e,c.removeOption(o,d),c.addOption(a,d)}function l(){var e={role:"option","aria-selected":"false"};r[0].hasAttribute("id")||(e.id="select_option_"+t.nextUid()),r.attr(e)}var d=a[0],c=a[1];angular.isDefined(o.ngValue)?n.$watch(o.ngValue,i):angular.isDefined(o.value)?i(o.value):n.$watch(function(){return r.text()},i),o.$observe("disabled",function(e){e?r.attr("tabindex","-1"):r.attr("tabindex","0")}),n.$$postDigest(function(){o.$observe("selected",function(e){angular.isDefined(e)&&("string"==typeof e&&(e=!0),e?(c.isMultiple||c.deselect(Object.keys(c.selected)[0]),c.select(d.hashKey,d.value)):c.deselect(d.hashKey),c.refreshViewValue())})}),e.attach(n,r),l(),n.$on("$destroy",function(){c.removeOption(d.hashKey,d)})}function o(e){this.selected=!1,this.setSelected=function(t){t&&!this.selected?e.attr({selected:"selected","aria-selected":"true"}):!t&&this.selected&&(e.removeAttr("selected"),e.attr("aria-selected","false")),this.selected=t}}return o.$inject=["$element"],{restrict:"E",require:["mdOption","^^mdSelectMenu"],controller:o,compile:n}}function OptgroupDirective(){function e(e,t){var n=e.find("label");n.length||(n=angular.element("<label>"),e.prepend(n)),n.addClass("md-container-ignore"),t.label&&n.text(t.label)}return{restrict:"E",compile:e}}function SelectProvider(e){function t(e,t,a,i,l,d,c,s,u){function p(e,t,n){function r(){return c(t,{addClass:"md-leave"}).start()}function o(){t.removeClass("md-active"),t.attr("aria-hidden","true"),t[0].style.display="none",m(n),!n.$destroy&&n.restoreFocus&&n.target.focus()}return n=n||{},n.cleanupInteraction(),n.cleanupResizing(),n.hideBackdrop(),n.$destroy===!0?o():r().then(o)}function f(n,r,o){function p(e,t,n){return n.parent.append(t),l(function(e,n){try{c(t,{removeClass:"md-leave",duration:0}).start().then(f).then(e)}catch(r){n(r)}})}function f(){return l(function(e){if(o.isRemoved)return l.reject(!1);var t=h(n,r,o);t.container.element.css(v.toCss(t.container.styles)),t.dropDown.element.css(v.toCss(t.dropDown.styles)),d(function(){r.addClass("md-active"),t.dropDown.element.css(v.toCss({transform:""})),b(o.focusedNode),e()})})}function m(e,t,n){return n.disableParentScroll&&!a.getClosest(n.target,"MD-DIALOG")?n.restoreScroll=a.disableScrollAround(n.element,n.parent):n.disableParentScroll=!1,n.hasBackdrop&&(n.backdrop=a.createBackdrop(e,"md-select-backdrop md-click-catcher"),s.enter(n.backdrop,u[0].body,null,{duration:0})),function(){n.backdrop&&n.backdrop.remove(),n.disableParentScroll&&n.restoreScroll(),delete n.restoreScroll}}function b(e){e&&!e.hasAttribute("disabled")&&e.focus()}function $(e,t){var n=r.find("md-select-menu");if(!t.target)throw new Error(a.supplant(g,[t.target]));angular.extend(t,{isRemoved:!1,target:angular.element(t.target),parent:angular.element(t.parent),selectEl:n,contentEl:r.find("md-content"),optionNodes:n[0].getElementsByTagName("md-option")})}function y(){var e=function(e,t,n){return function(){if(!n.isRemoved){var r=h(e,t,n),o=r.container,a=r.dropDown;o.element.css(v.toCss(o.styles)),a.element.css(v.toCss(a.styles))}}}(n,r,o),t=angular.element(i);return t.on("resize",e),t.on("orientationchange",e),function(){t.off("resize",e),t.off("orientationchange",e)}}function M(){o.loadingAsync&&!o.isRemoved&&(n.$$loadingAsyncDone=!1,n.progressMode="indeterminate",l.when(o.loadingAsync).then(function(){n.$$loadingAsyncDone=!0,n.progressMode="",delete o.loadingAsync}).then(function(){d(f)}))}function C(){function n(t){t.preventDefault(),t.stopPropagation(),o.restoreFocus=!1,a.nextTick(e.hide,!0)}function i(n){var r=t.KEY_CODE;switch(n.preventDefault(),n.stopPropagation(),n.keyCode){case r.UP_ARROW:return c();case r.DOWN_ARROW:return d();case r.SPACE:case r.ENTER:var i=a.getClosest(n.target,"md-option");i&&(u.triggerHandler({type:"click",target:i}),n.preventDefault()),s(n);break;case r.TAB:case r.ESCAPE:n.stopPropagation(),n.preventDefault(),o.restoreFocus=!0,a.nextTick(e.hide,!0);break;default:if(n.keyCode>=31&&n.keyCode<=90){var l=u.controller("mdSelectMenu").optNodeForKeyboardSearch(n);o.focusedNode=l||o.focusedNode,l&&l.focus()}}}function l(e){var t,n=a.nodesToArray(o.optionNodes),r=n.indexOf(o.focusedNode);do-1===r?r=0:"next"===e&&r<n.length-1?r++:"prev"===e&&r>0&&r--,t=n[r],t.hasAttribute("disabled")&&(t=void 0);while(!t&&r<n.length-1&&r>0);t&&t.focus(),o.focusedNode=t}function d(){l("next")}function c(){l("prev")}function s(t){function n(){var e=!1;if(t&&t.currentTarget.children.length>0){var n=t.currentTarget.children[0],r=n.scrollHeight>n.clientHeight;if(r&&n.children.length>0){var o=t.pageX-t.currentTarget.getBoundingClientRect().left;o>n.querySelector("md-option").offsetWidth&&(e=!0)}}return e}if(!(t&&"click"==t.type&&t.currentTarget!=u[0]||n())){var r=a.getClosest(t.target,"md-option");r&&r.hasAttribute&&!r.hasAttribute("disabled")&&(t.preventDefault(),t.stopPropagation(),p.isMultiple||(o.restoreFocus=!0,a.nextTick(function(){e.hide(p.ngModel.$viewValue)},!0)))}}if(!o.isRemoved){var u=o.selectEl,p=u.controller("mdSelectMenu")||{};return r.addClass("md-clickable"),o.backdrop&&o.backdrop.on("click",n),u.on("keydown",i),u.on("click",s),function(){o.backdrop&&o.backdrop.off("click",n),u.off("keydown",i),u.off("click",s),r.removeClass("md-clickable"),o.isRemoved=!0}}}return M(),$(n,o),o.hideBackdrop=m(n,r,o),p(n,r,o).then(function(e){return r.attr("aria-hidden","false"),o.alreadyOpen=!0,o.cleanupInteraction=C(),o.cleanupResizing=y(),e},o.hideBackdrop)}function m(e){var t=e.selectCtrl;if(t){var n=e.selectEl.controller("mdSelectMenu");t.setLabelText(n.selectedLabels()),t.triggerClose()}}function h(e,t,l){var d,c=t[0],s=l.target[0].children[0],p=u[0].body,f=l.selectEl[0],m=l.contentEl[0],h=p.getBoundingClientRect(),g=s.getBoundingClientRect(),v=!1,b={left:h.left+SELECT_EDGE_MARGIN,top:SELECT_EDGE_MARGIN,bottom:h.height-SELECT_EDGE_MARGIN,right:h.width-SELECT_EDGE_MARGIN-(a.floatingScrollbars()?16:0)},$={top:g.top-b.top,left:g.left-b.left,right:b.right-(g.left+g.width),bottom:b.bottom-(g.top+g.height)},y=h.width-2*SELECT_EDGE_MARGIN,M=m.scrollHeight>m.offsetHeight,C=f.querySelector("md-option[selected]"),k=f.getElementsByTagName("md-option"),E=f.getElementsByTagName("md-optgroup"),w=n(l.loadingAsync);d=w?m.firstElementChild||m:C?C:E.length?E[0]:k.length?k[0]:m.firstElementChild||m,m.offsetWidth>y?m.style["max-width"]=y+"px":m.style.maxWidth=null,v&&(m.style["min-width"]=g.width+"px"),M&&f.classList.add("md-overflow");var S=d;"MD-OPTGROUP"===(S.tagName||"").toUpperCase()&&(S=k[0]||m.firstElementChild||m,d=S),l.focusedNode=S,c.style.display="block";var x=f.getBoundingClientRect(),D=o(d);if(d){var A=i.getComputedStyle(d);D.paddingLeft=parseInt(A.paddingLeft,10)||0,D.paddingRight=parseInt(A.paddingRight,10)||0}if(M){var O=m.offsetHeight/2;m.scrollTop=D.top+D.height/2-O,$.top<O?m.scrollTop=Math.min(D.top,m.scrollTop+O-$.top):$.bottom<O&&(m.scrollTop=Math.max(D.top+D.height-x.height,m.scrollTop-O+$.bottom))}var T,R,N,L;v?(T=g.left,R=g.top+g.height,N="50% 0",R+x.height>b.bottom&&(R=g.top-x.height,N="50% 100%")):(T=g.left+D.left-D.paddingLeft+2,R=Math.floor(g.top+g.height/2-D.height/2-D.top+m.scrollTop)+4,N=D.left+g.width/2+"px "+(D.top+D.height/2-m.scrollTop)+"px 0px",L=Math.min(g.width+D.paddingLeft+D.paddingRight,y));var _=c.getBoundingClientRect(),G=Math.round(100*Math.min(g.width/x.width,1))/100,B=Math.round(100*Math.min(g.height/x.height,1))/100;return{container:{element:angular.element(c),styles:{left:Math.floor(r(b.left,T,b.right-_.width)),top:Math.floor(r(b.top,R,b.bottom-_.height)),"min-width":L}},dropDown:{element:angular.element(f),styles:{transformOrigin:N,transform:l.alreadyOpen?"":a.supplant("scale({0},{1})",[G,B])}}}}var g="$mdSelect.show() expected a target element in options.target but got '{0}'!",v=a.dom.animator;return{parent:"body",themable:!0,onShow:f,onRemove:p,hasBackdrop:!0,disableParentScroll:!0}}function n(e){return e&&angular.isFunction(e.then)}function r(e,t,n){return Math.max(e,Math.min(t,n))}function o(e){return e?{left:e.offsetLeft,top:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}:{left:0,top:0,width:0,height:0}}return t.$inject=["$mdSelect","$mdConstant","$mdUtil","$window","$q","$$rAF","$animateCss","$animate","$document"],e("$mdSelect").setDefaults({methods:["target"],options:t})}goog.provide("ng.material.components.select"),goog.require("ng.material.components.backdrop"),goog.require("ng.material.core");var SELECT_EDGE_MARGIN=8,selectNextId=0;angular.module("material.components.select",["material.core","material.components.backdrop"]).directive("mdSelect",SelectDirective).directive("mdSelectMenu",SelectMenuDirective).directive("mdOption",OptionDirective).directive("mdOptgroup",OptgroupDirective).provider("$mdSelect",SelectProvider),SelectDirective.$inject=["$mdSelect","$mdUtil","$mdTheming","$mdAria","$compile","$parse"],SelectMenuDirective.$inject=["$parse","$mdUtil","$mdTheming"],OptionDirective.$inject=["$mdButtonInkRipple","$mdUtil"],SelectProvider.$inject=["$$interimElementProvider"],ng.material.components.select=angular.module("material.components.select");