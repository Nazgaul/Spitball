/*!
 * Angular Material Design
 * https://github.com/angular/material
 * @license MIT
 * v0.11.3
 */
(function(n,t,i){"use strict";function r(n,r,u,f,e,o){var h,s=this,c;this.nestLevel=parseInt(r.mdNestLevel,10)||0;this.init=function(n,t){t=t||{};h=n;c=u[0].querySelector("[ng-click],[ng-mouseenter]");this.isInMenuBar=t.isInMenuBar;this.nestedMenus=e.nodesToArray(h[0].querySelectorAll(".md-nested-menu"));this.enableHoverListener();h.on("$mdInterimElementRemove",function(){s.isOpen=!1})};this.enableHoverListener=function(){f.$on("$mdMenuOpen",function(n,t){h[0].contains(t[0])&&(s.currentlyOpenMenu=t.controller("mdMenu"),s.isAlreadyOpening=!1,s.currentlyOpenMenu.registerContainerProxy(s.triggerContainerProxy.bind(s)))});f.$on("$mdMenuClose",function(n,t){h[0].contains(t[0])&&(s.currentlyOpenMenu=i)});var r=t.element(e.nodesToArray(h[0].querySelectorAll("md-menu-item"))),n;r.on("mouseenter",function(i){var r,u;s.isAlreadyOpening||(r=i.target.querySelector("md-menu")||e.getClosest(i.target,"MD-MENU"),n=o(function(){if(r&&(r=t.element(r).controller("mdMenu")),s.currentlyOpenMenu&&s.currentlyOpenMenu!=r){var n=s.nestLevel+1;s.currentlyOpenMenu.close(!0,{closeTo:n})}else r&&!r.isOpen&&r.open&&(s.isAlreadyOpening=!0,r.open())},r?100:250),u=i.currentTarget.querySelector("button:not([disabled])"),u&&u.focus())});r.on("mouseleave",function(){n&&(o.cancel(n),n=i)})};this.open=function(t){(t&&t.stopPropagation(),t&&t.preventDefault(),s.isOpen)||(s.isOpen=!0,c=c||(t?t.target:u[0]),f.$emit("$mdMenuOpen",u),n.show({scope:f,mdMenuCtrl:s,nestLevel:s.nestLevel,element:h,target:c,preserveElement:s.isInMenuBar||s.nestedMenus.length>0,parent:s.isInMenuBar?u:"body"}))};f.$mdOpenMenu=this.open;f.$watch(function(){return s.isOpen},function(n){n?(c.setAttribute("aria-expanded","true"),u[0].classList.add("md-open"),t.forEach(s.nestedMenus,function(n){n.classList.remove("md-open")})):(c&&c.setAttribute("aria-expanded","false"),u[0].classList.remove("md-open"));f.$mdMenuIsOpen=s.isOpen});this.focusMenuContainer=function(){var n=h[0].querySelector("[md-menu-focus-target]");n||(n=h[0].querySelector(".md-button"));n.focus()};this.registerContainerProxy=function(n){this.containerProxy=n};this.triggerContainerProxy=function(n){this.containerProxy&&this.containerProxy(n)};this.destroy=function(){return n.destroy()};this.close=function(i,r){var o,e;s.isOpen&&(s.isOpen=!1,o=t.extend({},r,{skipFocus:i}),f.$emit("$mdMenuClose",u,o),n.hide(null,r),i||(e=s.restoreFocusTo||u.find("button")[0],e instanceof t.element&&(e=e[0]),e&&e.focus()))};this.positionMode=function(){var n=(r.mdPositionMode||"target").split(" ");return n.length==1&&n.push(n[0]),{left:n[0],top:n[1]}};this.offsets=function(){var n=(r.mdOffset||"0 0").split(" ").map(parseFloat);if(n.length==2)return{left:n[0],top:n[1]};if(n.length==1)return{top:n[0],left:n[0]};throw Error("Invalid offsets specified. Please follow format <x, y> or <n>");}}function u(n){function u(i){var u,e,o;if(i.addClass("md-menu"),u=i.children()[0],u.hasAttribute("ng-click")||(u=u.querySelector("[ng-click],[ng-mouseenter]")||u),u&&(u.nodeName=="MD-BUTTON"||u.nodeName=="BUTTON")&&!u.hasAttribute("type")&&u.setAttribute("type","button"),i.children().length!=2)throw Error(r+"Expected two children elements.");return u&&u.setAttribute("aria-haspopup","true"),e=i[0].querySelectorAll("md-menu"),o=parseInt(i[0].getAttribute("md-nest-level"),10)||0,e&&t.forEach(n.nodesToArray(e),function(n){n.hasAttribute("md-position-mode")||n.setAttribute("md-position-mode","cascade");n.classList.add("md-nested-menu");n.setAttribute("md-nest-level",o+1);n.setAttribute("role","menu")}),f}function f(n,r,u,f){var o=f[0],s=f[1]!=i,e=t.element('<div class="md-open-menu-container md-whiteframe-z2"><\/div>'),h=r.children()[1];e.append(h);s&&(r.append(e),e[0].style.display="none");o.init(e,{isInMenuBar:s});n.$on("$destroy",function(){o.destroy().finally(function(){e.remove()})})}var r="Invalid HTML for md-menu: ";return{restrict:"E",require:["mdMenu","?^mdMenuBar"],controller:"mdMenuCtrl",scope:!0,compile:u}}function f(n){function f(n,f,e,o,s,h,c,l,a){function w(i,r,u){return u.nestLevel?t.noop:(u.disableParentScroll&&!n.getClosest(u.target,"MD-DIALOG")?u.restoreScroll=n.disableScrollAround(u.element,u.parent):u.disableParentScroll=!1,u.hasBackdrop&&(u.backdrop=n.createBackdrop(i,"md-menu-backdrop md-click-catcher"),a.enter(u.backdrop,u.parent)),function(){u.backdrop&&u.backdrop.remove();u.disableParentScroll&&u.restoreScroll()})}function b(n,t,i){function u(){return l(t,{addClass:"md-leave"}).start()}function r(){t.removeClass("md-active");g(t,i);i.alreadyOpen=!1}return i.cleanupInteraction(),i.cleanupResizing(),i.hideBackdrop(),i.$destroy===!0?r():u().then(r)}function k(i,r,u){function o(){return u.preserveElement?r[0].style.display="":u.parent.append(r),h(function(n){var t=p(r,u);r.removeClass("md-leave");l(r,{addClass:"md-active",from:v.toCss(t),to:v.toCss({transform:""})}).start().then(n)})}function a(){if(!u.target)throw Error("$mdMenu.show() expected a target to animate from in options.target");t.extend(u,{alreadyOpen:!1,isRemoved:!1,target:t.element(u.target),parent:t.element(u.parent),menuContentEl:t.element(r[0].querySelector("md-menu-content"))})}function b(){var n=function(n,t){return c.throttle(function(){if(!u.isRemoved){var i=p(n,t);n.css(v.toCss(i))}})}(r,u);return s.addEventListener("resize",n),s.addEventListener("orientationchange",n),function(){s.removeEventListener("resize",n);s.removeEventListener("orientationchange",n)}}function k(){function s(t){var i,r;switch(t.keyCode){case e.KEY_CODE.ESCAPE:u.mdMenuCtrl.close(!1,{closeAll:!0});i=!0;break;case e.KEY_CODE.UP_ARROW:y(t,u.menuContentEl,u,-1)||u.mdMenuCtrl.triggerContainerProxy(t);i=!0;break;case e.KEY_CODE.DOWN_ARROW:y(t,u.menuContentEl,u,1)||u.mdMenuCtrl.triggerContainerProxy(t);i=!0;break;case e.KEY_CODE.LEFT_ARROW:u.nestLevel?u.mdMenuCtrl.close():u.mdMenuCtrl.triggerContainerProxy(t);i=!0;break;case e.KEY_CODE.RIGHT_ARROW:r=n.getClosest(t.target,"MD-MENU");r&&r!=u.parent[0]?t.target.click():u.mdMenuCtrl.triggerContainerProxy(t);i=!0}i&&(t.preventDefault(),t.stopImmediatePropagation())}function h(n){n.preventDefault();n.stopPropagation();i.$apply(function(){u.mdMenuCtrl.close(!0,{closeAll:!0})})}function o(t){function e(){i.$apply(function(){u.mdMenuCtrl.close(!0,{closeAll:!0})})}function o(n,t){var r,i,f,u,e;if(!n)return!1;for(r=0;i=t[r];++r)for(f=[i,"data-"+i,"x-"+i],u=0;e=f[u];++u)if(n.hasAttribute(e))return!0;return!1}var r=t.target,f;do{if(r==u.menuContentEl[0])return;if(o(r,["ng-click","ng-href","ui-sref"])||r.nodeName=="BUTTON"||r.nodeName=="MD-BUTTON"){f=n.getClosest(r,"MD-MENU");r.hasAttribute("disabled")||f&&f!=u.parent[0]||e();break}}while(r=r.parentNode)}var t,f;if(r.addClass("md-clickable"),u.backdrop)u.backdrop.on("click",h);u.menuContentEl.on("keydown",s);return u.menuContentEl[0].addEventListener("click",o,!0),t=u.menuContentEl[0].querySelector("[md-menu-focus-target]"),t||(f=u.menuContentEl[0].firstElementChild,t=f&&(f.querySelector(".md-button:not([disabled])")||f.firstElementChild)),t&&t.focus(),function(){r.removeClass("md-clickable");u.backdrop&&u.backdrop.off("click",h);u.menuContentEl.off("keydown",s);u.menuContentEl[0].removeEventListener("click",o,!0)}}return a(u),f.inherit(u.menuContentEl,u.target),u.cleanupResizing=b(),u.hideBackdrop=w(i,r,u),o().then(function(n){return u.alreadyOpen=!0,u.cleanupInteraction=k(),n})}function y(t,i,r,u){for(var s,h=n.getClosest(t.target,"MD-MENU-ITEM"),e=n.nodesToArray(i[0].children),c=e.indexOf(h),o,f=c+u;f>=0&&f<e.length;f=f+u)if(s=e[f].querySelector(".md-button"),o=d(s),o)break;return o}function d(n){if(n&&n.getAttribute("tabindex")!=-1)return n.focus(),o[0].activeElement==n}function g(n,t){t.preserveElement?r(n).style.display="none":r(n).parentNode===r(t.parent)&&r(t.parent).removeChild(r(n))}function p(t,r){function ft(n){n.top=Math.max(Math.min(n.top,p.bottom-l.offsetHeight),p.top);n.left=Math.max(Math.min(n.left,p.right-l.offsetWidth),p.left)}function et(){for(var n=0;n<y.children.length;++n)if(s.getComputedStyle(y.children[n]).display!="none")return y.children[n]}var l=t[0],y=t[0].firstElementChild,w=y.getBoundingClientRect(),rt=o[0].body,a=rt.getBoundingClientRect(),ut=s.getComputedStyle(y),b=r.target[0].querySelector("[md-menu-origin]")||r.target[0],e=b.getBoundingClientRect(),p={left:a.left+u,top:Math.max(a.top,0)+u,bottom:Math.max(a.bottom,Math.max(a.top,0)+a.height)-u,right:a.right-u},h,k={top:0,left:0,right:0,bottom:0},d={top:0,left:0,right:0,bottom:0},c=r.mdMenuCtrl.positionMode(),f,v,g,nt,tt,it;(c.top=="target"||c.left=="target"||c.left=="target-right")&&(h=et(),h&&(h=h.firstElementChild||h,h=h.querySelector("[md-menu-align-target]")||h,k=h.getBoundingClientRect(),d={top:parseFloat(l.style.top||0),left:parseFloat(l.style.left||0)}));f={};v="top ";switch(c.top){case"target":f.top=d.top+e.top-k.top;break;case"cascade":f.top=e.top-parseFloat(ut.paddingTop)-b.style.top;break;case"bottom":f.top=e.top+e.height;break;default:throw new Error('Invalid target mode "'+c.top+'" specified for md-menu on Y axis.');}switch(c.left){case"target":f.left=d.left+e.left-k.left;v+="left";break;case"target-right":f.left=e.right-w.width+(w.right-k.right);v+="right";break;case"cascade":g=e.right+w.width<p.right;f.left=g?e.right-b.style.left:e.left-b.style.left-w.width;v+=g?"left":"right";break;case"left":f.left=e.left;v+="left";break;default:throw new Error('Invalid target mode "'+c.left+'" specified for md-menu on X axis.');}return nt=r.mdMenuCtrl.offsets(),f.top+=nt.top,f.left+=nt.left,ft(f),tt=Math.round(100*Math.min(e.width/l.offsetWidth,1))/100,it=Math.round(100*Math.min(e.height/l.offsetHeight,1))/100,{top:Math.round(f.top),left:Math.round(f.left),transform:r.alreadyOpen?i:n.supplant("scale({0},{1})",[tt,it]),transformOrigin:v}}var v=n.dom.animator;return{parent:"body",onShow:k,onRemove:b,hasBackdrop:!0,disableParentScroll:!0,skipCompile:!0,preserveScope:!0,skipHide:!0,themable:!0}}function r(n){return n instanceof t.element&&(n=n[0]),n}var u=8;return f.$inject=["$mdUtil","$mdTheming","$mdConstant","$document","$window","$q","$$rAF","$animateCss","$animate"],n("$mdMenu").setDefaults({methods:["target"],options:f})}t.module("material.components.menu",["material.core","material.components.backdrop"]);t.module("material.components.menu").controller("mdMenuCtrl",r);r.$inject=["$mdMenu","$attrs","$element","$scope","$mdUtil","$timeout"];t.module("material.components.menu").directive("mdMenu",u);u.$inject=["$mdUtil"];t.module("material.components.menu").provider("$mdMenu",f);f.$inject=["$$interimElementProvider"]})(window,window.angular);