@using Cloudents.Web.Services
@using Cloudents.Web.Views
@using Microsoft.AspNetCore.Hosting
@using Microsoft.AspNetCore.Mvc.Localization
@inject WebPackChunkName Provider
@inject IHostingEnvironment Environment
@inject IViewLocalizer Localizer
@{
    ViewBag.Title = "Spitball 2.0";
    var main = Provider.GetTag("main");
}


@*<div id="app" asp-prerender-module="ClientApp/renderOnServer">Loading....</div>*@
<div id="app">@Localizer["Loading...."]</div>
<div class="cdn-only2"></div>


@section scripts {
    @await Component.InvokeAsync("Resource")
    <environment include="Development">
        <script src="~/dist/@main.Js"></script>
    </environment>
    <environment exclude="Development">
        <script src="@Constants.GetCdnEndpoint(Environment)/dist/@main.Js"
                asp-fallback-src="~/dist/@main.Js"
                asp-fallback-test="window.mainCdn">
        </script>
    </environment>
}