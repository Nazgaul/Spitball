<template xmlns="http://www.w3.org/1999/html">
    <div class="registration">
        <v-snackbar absolute top :timeout="toasterTimeout" :value="getShowToaster">
            <div class="text-wrap" v-html="getToasterText"></div>
        </v-snackbar>
        <!--!!!step terms and first screen-->
        <div class="step-terms-firstscreen" v-if="stepNumber === 1">
            <step-template>
                <div slot="step-text" class="text-block-slot" v-if="isMobile">
                    <div class="text-wrap-top">
                        <p class="text-block-sub-title" v-html="$options.filters.bolder(meta.heading, meta.boldText)">
                            {{ isCampaignOn ? campaignData.stepOne.text : meta.heading }}
                        </p>
                    </div>
                    <div class="checkbox-terms">
                        <input type="checkbox" v-model="agreeTerms" id="agreeTerm"/>
                        <label for="agreeTerm"></label>
                        <span>I agree to Spitball's<br/><router-link
                                to="terms">Terms of Services</router-link> and <router-link
                                to="privacy">Privacy Policy</router-link></span>

                    </div>
                    <span class="has-error" v-if="confirmCheckbox"
                          style="background: white; display: block; color:red; text-align: center;">
                        Please agree to Terms And Services in order to proceed</span>
                </div>
                <div slot="step-data" class="limited-width form-wrap">
<<<<<<< HEAD
                    <div class="checkbox-terms" v-if="!isMobile">
                        <input type="checkbox" v-model="agreeTerms" id="agreeTermDesk"/>
                        <label for="agreeTermDesk"></label>
                        <span>I agree to Spitball's <router-link
                                to="terms">Terms of Services</router-link> and <router-link
                                to="privacy">Privacy Policy</router-link></span>
                    </div>
                    <div class="has-error" v-if="confirmCheckbox && !isMobile"
                         style="background: white; display: block; color:red; text-align: center;">
                        Please agree to Terms And Services in order to proceed
                    </div>
=======
                    <h1 class="step-title" v-if="$vuetify.breakpoint.smAndDown" v-language:inner>login_get_started</h1>
                    <p class="sub-title" v-if="$vuetify.breakpoint.smAndDown">{{campaignData.stepOne.text}}</p>
>>>>>>> ronLanguage
                    <button class="google-signin" @click="googleLogIn">
                        <span v-language:inner>login_sign_up_with_google</span>
                        <span>
                            <v-icon>sbf-google-icon</v-icon>
                        </span>
                    </button>
<<<<<<< HEAD
                    <div class="seperator-text"><span>or</span></div>
                    <v-btn class="sign-with-email"
                           value="Login"
                           :loading="loading"
                           @click="goToEmailLogin()"
                    >Sign in with Email
                    </v-btn>
                    <div class="signin-strip">Do you already have an account?
                        <p class="click" @click="goToLogin()">Sign in</p>
=======
                    <div class="seperator-text"><span v-language:inner>login_or_use_your_email</span></div>
                    <form @submit.prevent="emailSend">
                        <sb-input icon="sbf-email" class="email-field" :errorMessage="errorMessage.phone"
                                  placeholder="Enter your email address" v-model="userEmail" name="email" type="email"
                                  :autofocus="true"></sb-input>
                        <vue-recaptcha class="recaptcha-wrapper"
                                       :sitekey="siteKey"
                                       ref="recaptcha"
                                       @verify="onVerify"
                                       @expired="onExpired()">

                        </vue-recaptcha>
                        <!--<div style="width: 300px; height:74px; background: grey;  margin: 24px 0 10px 0;"></div>-->
                        <!--<input :disabled=" !userEmail || !recaptcha" class="continue-btn input-field" type="submit"-->
                               <!--value="Continue">-->
                        <v-btn  class="continue-btn" value="Login" :loading="loading" :disabled="!userEmail || !recaptcha " type="submit" v-language:inner>login_continue</v-btn>
                        <div class="checkbox-terms">
                            <span>
                                <span v-language:inner>login_By_joining_i_agree_to_spitball </span> 
                                <router-link to="terms" v-language:inner>login_terms_of_services</router-link>
                                <span v-language:inner>login_and</span>  
                                <router-link to="privacy" v-language:inner>login_privacy_policy</router-link>
                            </span>
                        </div>
                    </form>
                    <div class="signin-strip">
                        <span v-language:inner>login_do_you_already_have_an_account_?</span>  
                        <p class="click" @click="goToLogin()" v-language:inner>login_sign_in</p>
>>>>>>> ronLanguage
                    </div>
                </div>
                <div slot="step-image">
                    <div class="text">
<<<<<<< HEAD
                        <h1 class="step-title">Get started</h1>
                        <p class="sub-title">{{ isCampaignOn ? campaignData.stepOne.text : meta.text }}</p>
=======
                        <h1 class="step-title" v-language:inner>login_get_started</h1>
                        <p class="sub-title">{{campaignData.stepOne.text}}</p>
>>>>>>> ronLanguage
                    </div>
                    <img :src="require(`./img/registerEmail.png`)"/>
                </div>
            </step-template>
        </div>

        <!--!!!end terms and first screen-->

        <!--step email start-->
        <div class="step-email" v-if="stepNumber === 2">
            <step-template>
<<<<<<< HEAD
                <div slot="step-text" class="text-block-slot" v-if="isMobile">
                    <div class="text-wrap-top">
                        <p class="text-block-sub-title" v-html="$options.filters.bolder(meta.heading, meta.boldText)">
                            {{meta.heading}}</p>
                    </div>
                </div>
                <div slot="step-data" class="limited-width form-wrap">
                    <form @submit.prevent="emailSend" class="form-one">
                        <sb-input icon="sbf-email" class="email-field" :errorMessage="errorMessage.phone"
                                  placeholder="Enter your email address" v-model="userEmail" name="email" type="email"
                                  :autofocus="true"></sb-input>
=======
                <div slot="step-data" class="limited-width">
                    <h1 class="step-title" v-language:inner>login_login</h1>
                    <form @submit.prevent="submit">
                        <sb-input :errorMessage="errorMessage.email" :required="true" class="email-field" type="email"
                                  name="email" id="input-url" v-model="userEmail"
                                  placeholder="Enter your email address"></sb-input>
>>>>>>> ronLanguage
                        <vue-recaptcha class="recaptcha-wrapper"
                                       :sitekey="siteKey"
                                       ref="recaptcha"
                                       @verify="onVerify"
                                       @expired="onExpired()">
                        </vue-recaptcha>
<<<<<<< HEAD
                        <v-btn class="continue-btn" value="Login"
                               :loading="loading"
                               :disabled="!userEmail || !recaptcha "
                               type="submit"
                        >Continue
                        </v-btn>
                        <div class="checkbox-terms">
                        </div>
                    </form>
                </div>
                <div slot="step-image">
                    <div class="text">
                        <h1 class="step-title">Get started</h1>
                        <p class="sub-title">{{ isCampaignOn ? campaignData.stepOne.text : meta.text }}</p>
=======
                        <!--<div style="width: 300px; height:74px; background: grey;  margin: 24px 0 10px 0;"></div>-->
                        <!--<input class="continue-btn" type="submit" value="Login" :disabled=" !userEmail || !recaptcha">-->
                        <v-btn  class="continue-btn loginBtn"
                                value="Login"
                                :loading="loading"
                                :disabled="!userEmail || !recaptcha "
                                type="submit"
                         v-language:inner>login_login</v-btn>
                    </form>
                    <div class="signin-strip">
                        <span v-language:inner>login_need_an_account_?</span> 
                        <a @click="showRegistration" v-language:inner>login_sign_up</a>
>>>>>>> ronLanguage
                    </div>
                    <img :src="require(`./img/registerEmail.png`)"/>
                </div>
            </step-template>
        </div>
        <!--step email end-->

        <!--step verify email-->
        <div class="step-verifyEmail" v-else-if="stepNumber === 3 ">
            <step-template>
                <div slot="step-text" class="text-block-slot" v-if="isMobile">
                    <div class="text-wrap-top">
                        <p class="text-block-sub-title" v-html="$options.filters.bolder(meta.heading, meta.boldText)">
                            {{meta.heading}}
                        </p>
                    </div>
                </div>
                <div slot="step-data" class="limited-width wide">
<<<<<<< HEAD
                    <h1 v-if="!isMobile" class="step-title">Check your email to activate <br/> your account</h1>
                    <p class="inline">An activation email has been sent to</p>
                    <div class="email-hold">
                        <p class="email-text inline">{{userEmail}}
                            <span class="email-change" @click="showRegistration()">Change</span>
                        </p>
                    </div>
                    <p>You will not be able to log into Spitball.co until you activate your account.</p>
                    <div class="bottom-text">
                        <p class="inline">Didnâ€™t get an email? <span class="email-text inline click"
                                                                     @click="resendEmail()">Click here to resend.</span>
                        </p>
=======
                    <h1 class="step-title" v-language:inner>login_check_your_email_to_activate_your_account</h1>
                    <p class="inline" v-language:inner>login_an_activation_email_has_been_sent_to</p>
                    <div class="email-hold">
                        <p class="email-text inline">{{userEmail}}</p>
                        <span class="email-change" @click="showRegistration()" v-language:inner>login_Change</span>

                    </div>
                    <p v-language:inner>login_you_will_not_be_able_to_log_into_spitball_co_until_you_activate_your_account</p>
                    <img :src="require(`./img/checkEmail.png`)"/>
                    <div class="bottom-text">
                        <p class="inline" v-language:inner>login_didnt_get_an_emaill</p>
                        <p class="email-text inline click" @click="resendEmail()">&nbsp; <span v-language:inner>login_click_here_to_send</span> </p>
>>>>>>> ronLanguage
                    </div>
                </div>
                <img slot="step-image" :src="require(`./img/checkEmail.png`)"/>
            </step-template>
        </div>
        <!--step verify email end-->


        <!--step phone number-->
        <div class="step-phone" v-if="stepNumber === 4 ">
            <step-template>
                <div slot="step-text" class="text-block-slot" v-if="isMobile">
                    <div class="text-wrap-top">
                        <p class="text-block-sub-title" v-html="$options.filters.bolder(meta.heading, meta.boldText)">
                            {{meta.heading}}</p>
                    </div>
                </div>
                <div slot="step-data" class="limited-width">
<<<<<<< HEAD
                    <h1 v-if="!isMobile" class="step-title">Enter your phone number</h1>
                    <p v-if="!isMobile" class="sub-title">
                        {{ isCampaignOn ? campaignData.stepTwo.text : meta.text }}
                    </p>
=======
                    <h1 class="step-title" v-language:inner>login_enter_your_phone_number</h1>
                    <p class="sub-title">{{campaignData.stepTwo.text}}</p>
>>>>>>> ronLanguage
                    <select v-model="phone.countryCode" class="mb-1">
                        <option value="" disabled hidden v-language:inner>login_select_your_country_code</option>
                        <option v-for="item in countryCodesList" :value="item.callingCode">{{item.name}}
                            ({{item.callingCode}})
                        </option>
                    </select>
                    <sb-input class="phone-field" icon="sbf-phone" :errorMessage="errorMessage.phone"
                              v-model="phone.phoneNum" placeholder="Enter phone number" name="email" type="tel"
                              :autofocus="true" @keyup.enter.native="sendCode()"></sb-input>
<<<<<<< HEAD
                    <v-btn class="continue-btn"
                           value="Login"
                           :loading="loading"
                           :disabled="!(phone.phoneNum&&phone.countryCode)"
                           @click="sendCode()"
                    >Continue
                    </v-btn>
=======
                    <v-btn  class="continue-btn"
                            value="Login"
                            :loading="loading"
                            :disabled="!(phone.phoneNum&&phone.countryCode)"
                            @click="sendCode()" 
                    v-language:inner>login_Continue</v-btn>
                    <!--<button class="continue-btn" @click="sendCode()"-->
                            <!--:disabled="!(phone.phoneNum&&phone.countryCode)">Continue-->
                    <!--</button>-->
>>>>>>> ronLanguage
                </div>
                <img slot="step-image" :src="require(`./img/enter-phone.png`)"/>
            </step-template>
        </div>
        <!--step phone number end-->

        <!--step verify phone number-->
        <div class="step-phone-confirm" v-if="stepNumber === 5 ">
            <step-template>
                <div slot="step-text" class="text-block-slot" v-if="isMobile">
                    <div class="text-wrap-top">
                        <p class="text-block-sub-title" v-html="$options.filters.bolder(meta.heading, meta.boldText)">
                            {{meta.heading}}</p>
                        <p class="text-block-sub-title" v-if="phone.phoneNum">(+{{phone.countryCode}})
                            {{phone.phoneNum }} <span class="phone-change" @click="changePhone()">Change</span>
                        </p>
                    </div>
                </div>
                <div slot="step-data" class="limited-width wide">
<<<<<<< HEAD
                    <h1 v-if="!isMobile" class="step-title">Enter the confirmation code</h1>
                    <p v-if="phone.phoneNum" class="sub-title">We sent the code to you by SMS
                        (+{{phone.countryCode}})
                        {{phone.phoneNum}} </p>
                    <p v-if="!isMobile" class="confirm-title">We sent a confirmation code<br/> to your mobile phone.</p>
                    <sb-input class="code-field" icon="sbf-key" :errorMessage="errorMessage.code"
                              v-model="confirmationCode" placeholder="Enter confirmation code" type="number"
                              :autofocus="true" @keyup.enter.native="smsCodeVerify()"></sb-input>
                    <v-btn class="continue-btn submit-code"
                           value="Login"
                           :loading="loading"
                           :disabled="!confirmationCode"
                           @click="smsCodeVerify()"
                    >Continue
                    </v-btn>
                    <div class="bottom-text">
                        <p class="inline">Didn't get an sms?
                            <span class="email-text inline click" @click="resendSms()"> Click here to resend.</span>
                        </p>
=======
                    <h1 class="step-title" v-language:inner>login_enter_the_confirm_code:"Enter the confirmation code"</h1>
                    <p v-if="phone.phoneNum" class="sub-title">
                        <span v-language:inner>login_we_sent_the_code_to_you_by_sms_to</span> 
                        (+{{phone.countryCode}})
                        {{phone.phoneNum}}</p>
                    <p class="confirm-title">
                        <span v-language:inner>login_we_sent_a_confirmation_code</span>
                        <br/>
                        <span v-language:inner>login_to_your_mobile_phone</span> 
                    </p>
                    <sb-input class="code-field" icon="sbf-key" :errorMessage="errorMessage.code"
                              v-model="confirmationCode" placeholder="Enter confirmation code" type="number"
                              :autofocus="true" @keyup.enter.native="smsCodeVerify()"></sb-input>
                    <v-btn  class="continue-btn submit-code"
                            value="Login"
                            :loading="loading"
                            :disabled="!confirmationCode"
                            @click="smsCodeVerify()"
                    v-language:inner>login_continue</v-btn>
                    <!--<button class="continue-btn submit-code" @click="smsCodeVerify()" :disabled="!confirmationCode">-->
                        <!--Continue-->
                    <!--</button>-->

                    <div class="bottom-text">
                        <p class="inline" v-language:inner>login_didnt_get_an_sms</p>
                        <p class="email-text inline click" @click="resendSms()">&nbsp; <span v-language:inner>login_click_here_to_resend</span> </p>
>>>>>>> ronLanguage
                    </div>
                </div>
                <img slot="step-image" :src="require(`./img/confirm-phone.png`)"/>
            </step-template>
        </div>
        <!--step verify phone number end-->

        <!--step congrats -->
        <div class="step-account" v-if="stepNumber === 6 ">
            <step-template>
                <div slot="step-text" class="text-block-slot" v-if="isMobile">
                    <div class="text-wrap-top">
                        <p class="text-block-sub-title">{{meta.heading}}</p>
                        <p class="text-block-sub-title"
                           v-html="$options.filters.bolder(meta.subheading, meta.boldText)">{{meta.subheading}}</p>
                    </div>
                </div>
                <div slot="step-data" class="limited-width done">
<<<<<<< HEAD
                    <h2 v-if="!isMobile" class="congrats-heading"
                        v-html="$options.filters.bolder(meta.heading, meta.boldText)">{{meta.heading}}</h2>
                    <h2 v-if="!isMobile" class="congrats-heading">{{meta.subheading}}</h2>
                    <img v-if="!isMobile" class="money-done-img" :src="require(`./img/money-done.png`)"/>
                    <p class="congrats" v-html="$options.filters.bolder(meta.text, meta.boldText)">{{meta.text}}</p>

                    <v-btn class="continue-btn submit-code"
                           value="congrats"
                           :loading="loading"
                           @click="finishRegistration">Let's Start
                    </v-btn>
=======
                    <h1 class="congrats-heading" v-language>login_congrats</h1>
                    <h2 class="congrats-heading" v-language>login_you_are_reward_with</h2>
                    <h2 class="congrats-heading"><span class="blue-points">{{initialPointsNum}}<span v-language>login_sbl</span> </span></h2>
                    <img class="money-done-img" :src="require(`./img/money-done.png`)"/>
                    <p class="congrats"> <span v-language>login_You_can_spend_them_to_get_help_with_your</span> <br/> <span v-language>login_homework_questions</span> </p>
                    <v-btn  class="continue-btn submit-code"
                            value="congrats"
                            :loading="loading"
                            @click="finishRegistration" v-language>login_lets_start</v-btn>
                    <!--<button class="continue-btn" @click="finishRegistration">Let's Start</button>-->
>>>>>>> ronLanguage
                </div>
                <img slot="step-image" :src="require(`./img/done.png`)"/>
            </step-template>
        </div>
        <!--step congrats end-->


        <!--step login-->
        <div class="step-login" v-else-if="stepNumber === 7 ">
            <step-template>
                <div slot="step-text" class="text-block-slot" v-if="isMobile">
                    <div class="text-wrap-top">
                        <p class="text-block-sub-title"><b>Welcome back</b> <br/>please login</p>
                    </div>
                </div>
                <div slot="step-data" class="limited-width">
                    <h2 v-if="!isMobile" class="step-title">Login</h2>
                    <form @submit.prevent="submit">
                        <sb-input :errorMessage="errorMessage.email" :required="true" class="email-field" type="email"
                                  name="email" id="input-url" v-model="userEmail"
                                  placeholder="Enter your email address"></sb-input>
                        <vue-recaptcha class="recaptcha-wrapper"
                                       ref="recaptcha"
                                       :sitekey="siteKey"
                                       @verify="onVerify"
                                       @expired="onExpired">

                        </vue-recaptcha>
                        <v-btn class="continue-btn loginBtn"
                               value="Login"
                               :loading="loading"
                               :disabled="!userEmail || !recaptcha "
                               type="submit"
                        >Login
                        </v-btn>
                    </form>
                    <div class="signin-strip">Need an account?
                        <a @click="showRegistration">Sign up</a>
                    </div>
                </div>
                <img slot="step-image" :src="require(`./img/signin.png`)"/>
            </step-template>
        </div>
        <!--step login end-->
        <!--step expired link-->
        <div class="step-expired" v-if="stepNumber === 8 ">
            <step-template>
                <div slot="step-text" class="text-block-slot" v-if="isMobile">
                    <div class="text-wrap-top">
                        <h2 class="text-block-title">Your<br/> confirmation link has expired</h2>
                        <p class="text-block-sub-title">You will not be able<br/> to log in to Spitball.co<br/> until
                            you activate your account.</p>
                    </div>
                </div>
                <div slot="step-data" class="limited-width wide">
<<<<<<< HEAD
                    <h1 v-if="!isMobile" class="step-title">You didn't complete the registration process </h1>
                    <p v-if="!isMobile" class="inline">Your confirmation link has expired</p>
                    <p v-if="!isMobile"> You will not be able to log into Spitball.co until you activate your
                        account.</p>
=======
                    <h1 class="step-title" v-language:inner>login_you_didnt_complete_the_registration_process</h1>
                    <p class="inline" v-language:inner>login_your_confirmation_link_has_expired</p>
                    <p v-language:inner>login_you_will_not_be_able_to_log_into_spitball_co_until_you_activate_your_account</p>
>>>>>>> ronLanguage
                    <img :src="require(`./img/checkEmail.png`)"/>
                    <button class="continue-btn" @click="showRegistration()" v-language:inner>login_register</button>

                </div>
                <img slot="step-image" :src="require(`./img/checkEmail.png`)"/>
            </step-template>
        </div>
        <!--step expired link end-->

        <div class="progress" v-if="stepNumber !== 7 && stepNumber !== 8 ">
            <div v-for="page  in  progressSteps" :class="{highlighted: page===stepNumber}"></div>
        </div>

        <button class="back-button" @click="showDialog = true" v-if="stepNumber !== 6">
            <v-icon right>sbf-close</v-icon>
        </button>
        <!--exit dialog-->
        <v-dialog v-model="showDialog" max-width="600px" :fullscreen="isMobile" content-class="registration-dialog">
            <v-card>
                <button class="close-btn" @click="showDialog = false">
                    <v-icon>sbf-close</v-icon>
                </button>
                <v-card-text class="limited-width">
<<<<<<< HEAD
                    <h1 v-if="isMobile">Are you<br/> sure<br/> you want <br/>to <b>exit?</b></h1>
                    <h1 v-else>Are you sure you want to exit?</h1>
                    <p>Exiting from this process will delete all your<br/> progress and information</p>

                    <v-btn v-if="isMobile" class="continue-registr"
                           @click="showDialog = false">Continue with registration
                    </v-btn>

=======
                    <h1 v-language:inner>login_are_you_sure_you_want_to_exit</h1>
                    <p v-language:inner>login_exiting_from_this_process_will_delete_all_your_progress_and_information</p>
>>>>>>> ronLanguage
                    <button class="continue-btn" @click="$_back">Exit</button>
                </v-card-text>
            </v-card>
        </v-dialog>

    </div>
</template>
<script src="./login.js"></script>

<style lang="less" src="./login.less">

</style>