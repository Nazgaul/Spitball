@{
    Layout = "~/Views/Shared/_LayoutPage.cshtml";
}
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>index</title>
</head>
<body ng-cloak>
    <form class="search-form" name="searchTrigger" validate>
        <div class="row">
            <input class="field col" list="university" name="university" placeholder="University" required="required" ng-model-options="{ debounce: 500 }" ng-model="st.formData.university" ng-change="st.autocomplete('university')">
            <datalist id="university">
                <option ng-repeat="university in st.universityAutoComplete" value="{{university}}">
            </datalist>
            <input class="field col" list="departments" name="department" placeholder="Department" ng-model-options="{ debounce: 500 }" ng-model="st.formData.department" ng-change="st.autocomplete('department')">
            <datalist id="departments">
                <option ng-repeat="department in st.departmentsAutoComplete" value="{{department}}">
            </datalist>
            <input class="field col" name="class" placeholder="Class" ng-model="st.formData.box">
            <input class="field col" name="boxId" placeholder="BoxID" ng-model="st.formData.boxId">
        </div>
        <div class="row">
            <input class="field col" placeholder="Item Name" name="item name"
                   ng-model="st.formData.name" />
            <button name="search_btn" ng-click="st.search()">
                Search
            </button>
        </div>
        <div class="row checkboxes">
            <label class="col">
                <input type="checkbox"
                       name="isReviewed" ng-model="st.formData.isReviewed">
                <span>Was reviewd</span>
            </label>
            <label class="col">
                <input type="checkbox" ng-checked="st.formData.isSearchType" ng-model="st.formData.isSearchType"
                       name="isSearchType">
                <span>No document type</span>
            </label>
        </div>
    </form>
    <div class="loader-wrapper" ng-if="st.showLoader">
        <div class="loader"></div>
    </div>
    <div class="messages">
        <div class="message" ng-if="st.noResults">No data found</div>
        <div class="status" ng-if="st.changesSaved">{{st.statusText}}</div>
    </div>
    <div class="results-header row" ng-if="st.doc !== null && !st.noResults">
        <div class="col-5">
            <button class="save" name="img_btn" ng-click="st.Save()">Save</button>
        </div>
        <div ng-if="st.resNum !== 0" class="results-nav col-7">
            <button ng-disabled="st.counter==0" ng-click="st.prevPage()" name="back_btn"></button>
            <span name="results_num" class="counter">
                Results number: {{st.counter + 1}}/{{st.resNum}}
            </span>
            <button ng-disabled="st.counter==st.resNum-1"
                    ng-click="st.nextPage()" name="next_btn"
                    type="submit" class="md-raised md-primary md-button md-ink-ripple"></button>
        </div>
    </div>
    <div class="result-data row" ng-if="st.doc !== null && !st.noResults">
        <div class="info col-5">
            <section class="general-info">
                <h1>Document info</h1>
                <label class="detail">
                    Name:
                    <input id="myItemName" class="form-check-label" type="text" ng-model="st.doc.ItemName" value={{st.doc.ItemName}}>
                </label>
                <div class="detail">Box name: {{st.doc.BoxName}}</div>
                <div class="detail">Department: {{st.doc.Department}}</div>
                <div class="detail">University: {{st.doc.University}}</div>
                <button type="button" class="delete-doc" ng-click="st.deleteDoc()">Delete document</button>
            </section>
            <section class="doc-type">
                <h1>Document Type</h1>
                <select id="mySelect" ng-model="st.doc.TypeId" >
                    <option value="" disabled selected>Search type</option>
                    <option value="0">Undefined</option>
                    <option value="8">Exam</option>
                     <option value="7">Study Guide</option>
                    <option value="9">Class Notes</option>
                    <option value="5">Homework</option>
                    <option value="10">Syllabus</option>
                </select>
            </section>
            <section class="tags">
                <h1>Document Tag</h1>
                <div ng-repeat="t in st.doc.Tags" class="tag">
                    <div class="name">{{t}}</div>
                    <button class="delete-tag" ng-click="st.deleteTag($index)"></button>
                </div>
                <form>
                    <input ng-model="st.newTag" list="tag" autocomplete="off" ng-keyup="$event.keyCode == 13 && st.AddNewTag()" ng-model-options="{ debounce: 500 }" name="ttt111" placeholder="+ Add Tag" type="text" ng-change="st.autocomplete('tag')">
                    <datalist id="tag">
                        <option ng-repeat="tag in st.tagAutoComplete" value="{{tag}}">
                    </datalist>
                </form>
            </section>
        </div>
        <div class="preview col-7">
            <div class="preview-image" ng-repeat="s in st.documents" ng-show="!st.file">               
                <img class="imageContent" src="{{s}}" />
            </div>
            <div class="preview-image">
                <iframe class="iframeContent" ng-show="st.file" ng-src="{{st.file}}"></iframe>
            </div>
        </div>
    </div>
</body>
</html>
