@using Zbang.Cloudents.Mobile.Views.Box.Resources
@using Zbang.Cloudents.Mobile.Views.Shared.Resources

<section class="box">
    <header>
        @*<button type="button" class="inviteBtn rFloat">
                @Html.Svg("~/Images/Defs.svg", "inviteUser", new { @class = "svg-invite" })
            </button>*@
        <button type="button" class="backBtn lFloat" ui-sref="root.dashboard">
            @Html.Svg("~/Images/Defs.svg", "back", new { @class = "svg-back rtl" })
        </button>
        <a ui-sref="root.dashboard"><h1>@Html.Svg("~/Images/Defs.svg", "logo", new { @class = "svg-logo" })</h1></a>
    </header>

    <div class="boxDetails">
        <h2>{{::box.name}}</h2>
        <span class="boxDetail">{{::box.professorName}}</span>
        <span class="boxDetail">{{::box.courseId}}</span>
    </div>

    <div class="tabs">
        <span class="tab" ng-click="box.setCurrentTab('feed')" ng-class="{active : box.currentTab === 'feed'}">@BoxResources.Feed</span>
        <span class="tab" ng-click="box.setCurrentTab('items')" ng-class="{active : box.currentTab === 'items'}">@SharedResources.Items</span>
    </div>

    <div ng-switch="box.currentTab">
        @{Html.RenderPartial("_Feed");}
        @{Html.RenderPartial("_Items");}        
    </div>

    <div ng-if="box.uploading" style="position:fixed; top:0; left:0; background:#fff;width:100%;height:100%;z-index:2;">
        <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
             width="24px" height="30px" viewBox="0 0 24 30" style="enable-background:new 0 0 50 50;" xml:space="preserve">
        <rect x="0" y="10" width="4" height="10" fill="#333" opacity="0.2">
        <animate attributeName="opacity" attributeType="XML" values="0.2; 1; .2" begin="0s" dur="0.6s" repeatCount="indefinite" />
        <animate attributeName="height" attributeType="XML" values="10; 20; 10" begin="0s" dur="0.6s" repeatCount="indefinite" />
        <animate attributeName="y" attributeType="XML" values="10; 5; 10" begin="0s" dur="0.6s" repeatCount="indefinite" />
                    </rect>
        <rect x="8" y="10" width="4" height="10" fill="#333" opacity="0.2">
        <animate attributeName="opacity" attributeType="XML" values="0.2; 1; .2" begin="0.15s" dur="0.6s" repeatCount="indefinite" />
        <animate attributeName="height" attributeType="XML" values="10; 20; 10" begin="0.15s" dur="0.6s" repeatCount="indefinite" />
        <animate attributeName="y" attributeType="XML" values="10; 5; 10" begin="0.15s" dur="0.6s" repeatCount="indefinite" />
                    </rect>
        <rect x="16" y="10" width="4" height="10" fill="#333" opacity="0.2">
        <animate attributeName="opacity" attributeType="XML" values="0.2; 1; .2" begin="0.3s" dur="0.6s" repeatCount="indefinite" />
        <animate attributeName="height" attributeType="XML" values="10; 20; 10" begin="0.3s" dur="0.6s" repeatCount="indefinite" />
        <animate attributeName="y" attributeType="XML" values="10; 5; 10" begin="0.3s" dur="0.6s" repeatCount="indefinite" />
                    </rect>
                  </svg>
        Uploading
    </div>
</section>